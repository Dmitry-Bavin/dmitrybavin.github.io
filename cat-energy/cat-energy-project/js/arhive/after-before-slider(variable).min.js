const slider=document.querySelector(".slider"),before=document.querySelector(".before"),beforeImage=before.querySelector("img"),change=document.querySelector(".change"),body=document.body;let isActive=!1;document.addEventListener("DOMContentLoaded",()=>{let e=slider.offsetWidth;beforeImage.style.width=e+"px"}),change.addEventListener("mousedown",()=>{isActive=!0}),body.addEventListener("mouseup",()=>{isActive=!1}),body.addEventListener("mouseleave",()=>{isActive=!1});const beforeAfterSlider=e=>{let t=Math.max(0,Math.min(e,slider.offsetWidth));before.style.width=t+"px",change.style.left=t+"px"},pauseEvents=e=>(e.stopPropagation(),e.preventDefault(),!1);body.addEventListener("mousemove",e=>{if(!isActive)return;let t=e.pageX;t-=slider.getBoundingClientRect().left,beforeAfterSlider(t),pauseEvents(e)}),change.addEventListener("touchstart",()=>{isActive=!0}),body.addEventListener("touchend",()=>{isActive=!1}),body.addEventListener("touchcancel",()=>{isActive=!1}),body.addEventListener("touchmove",e=>{if(!isActive)return;let t,d;for(d=0;d<e.changedTouches.length;d++)t=e.changedTouches[d].pageX;t-=slider.getBoundingClientRect().left,beforeAfterSlider(t),pauseEvents(e)});